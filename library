if shared.moelibrary then shared.moelibrary:unload()end;local a=cloneref(game:GetService("UserInputService"))local b=cloneref(game:GetService("GuiService"))local c=cloneref(game:GetService("CoreGui"))local d=cloneref(game:GetService("TextService"))local e=cloneref(game:GetService("TweenService"))if a.TouchEnabled then cloneref(game:GetService("StarterGui")):SetCore("SendNotification",{Title="moehook",Text="This script isn't supported on mobile!"})return end;local f;local g=cloneref(game:GetService("Players")).LocalPlayer:GetMouse()local h={keybind=Enum.KeyCode.RightControl,notifPos="BR",palette={accent=Color3.fromRGB(240,100,100),mainbg=Color3.fromRGB(15,15,15),titlebg=Color3.fromRGB(20,20,20),stroke=Color3.fromRGB(50,50,50),parentstroke=Color3.fromRGB(0,0,0),selected=Color3.fromRGB(240,240,240),deselected=Color3.fromRGB(180,180,180),font=Font.new("rbxassetid://12187365364")},keybinds={},connections={}}function h:unload()for i,j in ipairs(self.connections)do j:Disconnect()end;self.ui:Destroy()table.clear(self)self=nil end;local function k(l,m)local n=Instance.new(l)if m then for o,p in pairs(m)do n[o]=p end end;return n end;local function q(r,s)local j=r:Connect(s)table.insert(h.connections,j)return j end;local function t(n,u,v,w,x)local y;local z=k("UIStroke",{ApplyStrokeMode=not x and Enum.ApplyStrokeMode.Border,Color=v or h.palette.stroke,Parent=w and k("Frame",{BackgroundTransparency=1,Size=UDim2.new(1,-2,1,-2),Position=UDim2.fromOffset(1,1),Parent=n})or n})if u then y=k("UIStroke",{ApplyStrokeMode=Enum.ApplyStrokeMode.Border,Color=h.palette.parentstroke,Parent=k("Frame",{BackgroundTransparency=1,Size=UDim2.new(1,2,1,2),Position=UDim2.fromOffset(-1,-1),ZIndex=4,Parent=n})})return z,y end;return z end;local function A(n,B)return k("Frame",{BackgroundColor3=h.palette.stroke,BorderSizePixel=0,Size=UDim2.new(1,0,0,1),Position=UDim2.new(0,0,1,-1),Parent=n})end;local function C(x)f.Text=x;return d:GetTextBoundsAsync(f)end;local function D(x,v)local E,F,G=math.floor(v.R*255),math.floor(v.G*255),math.floor(v.B*255)return"<font color=\"rgb("..E..", "..F..", "..G..")\">"..x.."</font>"end;local function H(n,I)return k("UIPadding",{PaddingLeft=UDim.new(0,I.L or 0),PaddingRight=UDim.new(0,I.R or 0),PaddingBottom=UDim.new(0,I.B or 0),PaddingTop=UDim.new(0,I.T or 0),Parent=n})end;local J={[Enum.UserInputType.MouseButton1]="M1",[Enum.UserInputType.MouseButton2]="M2",[Enum.UserInputType.MouseButton3]="M3"}local function K(L)if L.UserInputType==Enum.UserInputType.Keyboard then return L.KeyCode.Name end;return J[L.UserInputType]end;q(a.InputBegan,function(L,M)if M then return end;local N=K(L)if not N then return end;for i,O in ipairs(h.keybinds)do if O.listening then O.key=N;O.button.Text="["..O.key.."]"O.listening=false;O.changedcallback(O.key)return end end;for i,O in ipairs(h.keybinds)do if N==O.key then if O.mode=="hold"then O.holding=true;O.callback(true)elseif O.mode=="toggle"then O.active=not O.active;O.callback(O.active)end end end end)q(a.InputEnded,function(L)local P=K(L)for i,O in ipairs(h.keybinds)do if P==O.key and O.mode=="hold"and O.holding then O.holding=false;O.callback(false)end end end)local Q=k("ScreenGui",{IgnoreGuiInset=true,ResetOnSpawn=false,Parent=gethui and gethui()or c})h.ui=Q;local R=k("Frame",{BackgroundTransparency=1,Position=UDim2.fromOffset(8,8),Size=UDim2.new(1,-16,1,-16),Parent=Q})f=k("GetTextBoundsParams",{Width=math.huge,Font=h.palette.font,Size=14})local S=k("Frame",{})local T=k("Frame",{AutomaticSize=Enum.AutomaticSize.Y,BackgroundColor3=h.palette.titlebg,ZIndex=6,Visible=false,Parent=Q})t(T,false)H(T,{L=6,R=8})k("UIListLayout",{Parent=T})local U=k("Frame",{Size=UDim2.fromOffset(54,61),BackgroundColor3=h.palette.titlebg,Visible=false,ZIndex=2,Parent=Q})local i,V=t(U,true)H(U,{B=1,L=6,R=8})V.Parent.Size=UDim2.new(1,16,1,3)V.Parent.Position=UDim2.fromOffset(-7,-1)local W=k("TextButton",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,TextSize=14,TextColor3=h.palette.deselected,TextXAlignment=Enum.TextXAlignment.Left,Text="hold",ZIndex=3,Parent=U})local X=W:Clone()X.Position=UDim2.fromOffset(0,20)X.Text="toggle"X.Parent=U;local Y=W:Clone()Y.Position=UDim2.fromOffset(0,40)Y.Text="always"Y.Parent=U;for i,Z in ipairs({W,X,Y})do q(Z.MouseEnter,function()if Z.TextColor3~=h.palette.accent then Z.TextColor3=h.palette.selected end end)q(Z.MouseLeave,function()if Z.TextColor3~=h.palette.accent then Z.TextColor3=h.palette.deselected end end)end;function h:window(_)local a0=k("Frame",{AnchorPoint=Vector2.new(.5,.5),Position=UDim2.fromScale(.5,.5),BackgroundColor3=self.palette.mainbg,Size=UDim2.fromOffset(400,400),Parent=Q})t(a0,true)local a1=nil;local a2=nil;local a3={}q(a.InputBegan,function(L)if L.UserInputType~=Enum.UserInputType.MouseButton1 then return end;if U.Visible then local a4=U.AbsolutePosition;local a5=U.AbsoluteSize;if not(g.X>=a4.X and g.X<=a4.X+a5.X and g.Y>=a4.Y and g.Y<=a4.Y+a5.Y)then U.Visible=false;a2=nil end end;if a1 then local a6=Vector2.new(g.X,g.Y)local a7,a8=a1.button.AbsolutePosition,a1.button.AbsoluteSize;local a9,aa=a1.frame.AbsolutePosition,a1.frame.AbsoluteSize;local ab=a6.X>a7.X and a6.X<a7.X+a8.X and a6.Y>a7.Y and a6.Y<a7.Y+a8.Y;local ac=a6.X>a9.X and a6.X<a9.X+aa.X and a6.Y>a9.Y and a6.Y<a9.Y+aa.Y;if not ab and not ac then a1.close()end end end)local function ad(ae)if not a2 then return end;a2.mode=ae;W.TextColor3=a2.mode=="hold"and h.palette.accent or h.palette.deselected;X.TextColor3=a2.mode=="toggle"and h.palette.accent or h.palette.deselected;Y.TextColor3=a2.mode=="always"and h.palette.accent or h.palette.deselected;local af=a2.active;local ag=a2.mode=="always"if af~=ag then a2.active=ag;a2.callback(ag)end end;q(W.MouseButton1Down,function()ad("hold")end)q(X.MouseButton1Down,function()ad("toggle")end)q(Y.MouseButton1Down,function()ad("always")end)q(a.InputBegan,function(L)if L.KeyCode==self.keybind then a0.Visible=not a0.Visible end end)q(a0:GetPropertyChangedSignal("Visible"),function()if not a0.Visible then U.Visible=false;a2=nil;if a1 then a1.close()end end end)local ah=k("Frame",{BackgroundColor3=self.palette.titlebg,Size=UDim2.new(1,0,0,30),BorderSizePixel=0,Parent=a0})A(ah,"B")local ai=k("TextLabel",{BackgroundTransparency=1,Position=UDim2.fromOffset(8,0),FontFace=self.palette.font,TextColor3=self.palette.selected,TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,RichText=true,Text="moe"..D("hook ",self.palette.accent)..D(_,self.palette.deselected),Parent=ah})ai.Size=UDim2.new(0,ai.TextBounds.X,1,0)local aj=k("Frame",{BackgroundTransparency=1,AnchorPoint=Vector2.new(1,0),Position=UDim2.new(1,-8,0,4),Size=UDim2.new(1,-ai.AbsoluteSize.X-8,1,-8),Parent=ah})k("UIListLayout",{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,Parent=aj})local ak=k("Frame",{BackgroundTransparency=1,Size=UDim2.new(1,0,1,-30),Position=UDim2.fromOffset(0,30),Parent=a0})local al={}local am=nil;local function an(ao)if am then am.TextColor3=self.palette.deselected;ak[am.Name].Visible=false end;if a1 then a1.close()end;ao.TextColor3=self.palette.accent;ak[ao.Name].Visible=true;am=ao end;function al:tab(ap)local ao=k("TextButton",{Name=ap,BackgroundTransparency=1,AutoButtonColor=false,FontFace=h.palette.font,TextColor3=h.palette.deselected,TextSize=14,Text=ap,Parent=aj})ao.Size=UDim2.new(0,ao.TextBounds.X+8,1,0)q(ao.MouseEnter,function()if am~=ao then ao.TextColor3=h.palette.selected end end)q(ao.MouseLeave,function()if am~=ao then ao.TextColor3=h.palette.deselected end end)q(ao.MouseButton1Down,function()an(ao)end)local aq=k("ScrollingFrame",{Name=ap,BackgroundTransparency=1,Size=UDim2.fromScale(1,1),AutomaticCanvasSize=Enum.AutomaticSize.Y,CanvasSize=UDim2.new(),ScrollBarThickness=0,Visible=false,Parent=ak})H(aq,{B=8,L=8,R=8,T=8})local ar=k("Frame",{BackgroundTransparency=1,AutomaticSize=Enum.AutomaticSize.Y,Size=UDim2.new(0.5,-13),Parent=aq})k("UIListLayout",{Padding=UDim.new(0,5),Parent=ar})local as=ar:Clone()as.Position=UDim2.new(0.5,5)as.Parent=aq;if not am then an(ao)end;local at={}local au=0;function at:section(ap)au=au+1;local av=k("Frame",{AutomaticSize=Enum.AutomaticSize.Y,Size=UDim2.new(1,0,0,60),BackgroundColor3=h.palette.titlebg,Parent=au%2==1 and ar or as})t(av,false)local aw=k("TextLabel",{BackgroundColor3=h.palette.mainbg,BorderSizePixel=0,Size=UDim2.new(1,0,0,30),FontFace=h.palette.font,TextSize=14,TextColor3=h.palette.selected,TextXAlignment=Enum.TextXAlignment.Left,Text=ap,Parent=av})H(aw,{L=8})local ax=A(aw)ax.Position=UDim2.new(0,-8,1,-1)ax.Size=UDim2.new(1,8,0,1)local ay=k("Frame",{BackgroundTransparency=1,AutomaticSize=Enum.AutomaticSize.Y,Position=UDim2.fromOffset(0,30),Size=UDim2.new(1,0,0,30),Parent=av})H(ay,{B=8,L=8,R=8,T=8})k("UIListLayout",{Padding=UDim.new(0,8),Parent=ay})local az={}function az:label(x)local aA=k("TextLabel",{AutomaticSize=Enum.AutomaticSize.Y,BackgroundTransparency=1,Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,RichText=true,TextSize=14,TextColor3=h.palette.selected,TextWrapped=true,TextXAlignment=Enum.TextXAlignment.Left,Text=x,Parent=ay})end;function az:button(ap,s)local aB=k("TextButton",{BackgroundColor3=h.palette.mainbg,AutoButtonColor=false,Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,TextColor3=h.palette.deselected,TextSize=14,RichText=true,Text=ap,Parent=ay})t(aB,false)q(aB.MouseEnter,function()aB.TextColor3=h.palette.selected end)q(aB.MouseLeave,function()aB.TextColor3=h.palette.deselected end)q(aB.MouseButton1Up,function()aB.TextColor3=h.palette.selected end)q(aB.MouseButton1Down,function()s()aB.TextColor3=h.palette.deselected end)end;function az:toggle(ap,aC,s)local aD=aC or false;local aE=k("TextButton",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,TextColor3=h.palette.deselected,TextSize=14,RichText=true,TextXAlignment=Enum.TextXAlignment.Left,Text=ap,Parent=ay})H(aE,{L=28})local aF=k("Frame",{BackgroundColor3=h.palette.mainbg,Position=UDim2.fromOffset(-28,0),Size=UDim2.fromOffset(20,20),Parent=aE})local aG=t(aF,false)local function aH(aI)aF.BackgroundColor3=aI and h.palette.accent or h.palette.mainbg;aE.TextColor3=aI and h.palette.selected or h.palette.deselected;s(aI)end;aH(aD)q(aE.MouseEnter,function()if not aD then aE.TextColor3=h.palette.selected end end)q(aE.MouseLeave,function()if not aD then aE.TextColor3=h.palette.deselected end end)q(aE.MouseButton1Down,function()aD=not aD;aH(aD)end)end;function az:slider(aJ)aJ.min=aJ.min or 0;aJ.default=aJ.default or 0;local aK=k("TextLabel",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,40),FontFace=h.palette.font,TextColor3=h.palette.selected,TextSize=14,RichText=true,Text=aJ.name,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Top,Parent=ay})local aL=k("TextBox",{Size=UDim2.fromOffset(C(tostring(aJ.max)).X+4,20),AnchorPoint=Vector2.new(1,0),Position=UDim2.new(1,0,0,-2),BackgroundTransparency=1,TextXAlignment=Enum.TextXAlignment.Right,Text="0",TextSize=14,FontFace=h.palette.font,TextColor3=h.palette.selected,PlaceholderText="",ClearTextOnFocus=false,Parent=aK})local aM=k("TextButton",{AnchorPoint=Vector2.new(0,1),AutoButtonColor=false,BackgroundColor3=h.palette.mainbg,Position=UDim2.fromScale(0,1),Size=UDim2.new(1,0,0,20),Text="",Parent=aK})t(aM,false)local aN=k("Frame",{BackgroundColor3=h.palette.accent,Size=UDim2.fromScale(0,1),BorderSizePixel=0,Interactable=false,Parent=aM})local aO=false;local aP=aJ.default;local aQ=nil;local function aR(p)aP=math.clamp(p,aJ.min,aJ.max)local aS=(aP-aJ.min)/(aJ.max-aJ.min)local aT=math.floor(aP)aN.Size=UDim2.fromScale(aS,1)aL.Text=tostring(aT)if aQ~=aT then aQ=aT;aJ.callback(aT)end end;local function aU()local aV=aM.AbsolutePosition.X;local aW=aM.AbsoluteSize.X;local aS=math.clamp((g.X-aV)/aW,0,1)local k=aJ.min+(aJ.max-aJ.min)*aS;aR(k)end;q(aM.MouseButton1Down,function()aO=true;aU()end)q(a.InputChanged,function(L)if L.UserInputType==Enum.UserInputType.MouseMovement then if aO then aU()end end end)q(a.InputEnded,function(L)if L.UserInputType==Enum.UserInputType.MouseButton1 then aO=false end end)q(aL.FocusLost,function(aX)if aX then local k=tonumber(aL.Text)aR(k or aP)else aL.Text=tostring(math.floor(aP))end end)aR(aJ.default)end;function az:dropdown(aJ)aJ.multi=aJ.multi or false;local aY;if aJ.multi then aY={}local aC=aJ.default or{}if typeof(aC)=="string"then table.insert(aY,aC)else for i,aZ in ipairs(aC)do table.insert(aY,aZ)end end else if typeof(aJ.default)=="table"then aY=aJ.default[1]or aJ.options[1]else aY=aJ.default or aJ.options[1]end end;local a_=false;local b0=k("TextLabel",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,40),FontFace=h.palette.font,TextColor3=h.palette.selected,TextSize=14,RichText=true,Text=aJ.name,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Top,Parent=ay})local function b1()if aJ.multi then if#aY==0 then return"None"end;return table.concat(aY,", ")end;return aY or"None"end;local b2=k("TextButton",{AnchorPoint=Vector2.new(0,1),AutoButtonColor=false,BackgroundColor3=h.palette.mainbg,TextColor3=h.palette.deselected,TextSize=14,FontFace=h.palette.font,TextXAlignment=Enum.TextXAlignment.Left,TextTruncate=Enum.TextTruncate.AtEnd,Position=UDim2.fromScale(0,1),Size=UDim2.new(1,0,0,20),Text=b1(),Parent=b0})t(b2,false)H(b2,{L=4,R=24})q(b2.MouseEnter,function()if a_ then return end;b2.TextColor3=h.palette.selected end)q(b2.MouseLeave,function()if a_ then return end;b2.TextColor3=h.palette.deselected end)local b3=k("TextLabel",{AnchorPoint=Vector2.new(1,0),BackgroundTransparency=1,Position=UDim2.new(1,18,0,1),Rotation=-45,Size=UDim2.fromOffset(14,14),FontFace=h.palette.font,Text="â—£",TextColor3=h.palette.deselected,TextSize=10,Parent=b2})local function b4()if not a_ then return end;a_=false;b2.TextColor3=h.palette.deselected;e:Create(b3,TweenInfo.new(0.1),{Rotation=-45,Position=UDim2.new(1,18,0,1)}):Play()for i,b5 in ipairs(T:GetChildren())do if b5:IsA("TextButton")then b5.Parent=nil end end;T.Visible=false;a1=nil end;local function b6(b7,b8)if a_ then return end;if a1 then a1.close()end;a_=true;b2.TextColor3=h.palette.selected;if a3[b2]then for i,aB in ipairs(a3[b2])do aB.Parent=T end else local b9={}for i,ba in ipairs(aJ.options)do local bb=k("TextButton",{Name=ba,BackgroundTransparency=1,Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,TextSize=14,Text=ba,ZIndex=7,TextXAlignment=Enum.TextXAlignment.Left,Parent=T})table.insert(b9,bb)local function bc()local bd=aJ.multi and table.find(aY,ba)or aY==ba;bb.TextColor3=bd and h.palette.accent or h.palette.deselected end;q(bb.MouseEnter,function()if bb.TextColor3~=h.palette.accent then bb.TextColor3=h.palette.selected end end)q(bb.MouseLeave,function()bc()end)q(bb.MouseButton1Down,function()if aJ.multi then local be=table.find(aY,ba)if be then table.remove(aY,be)else table.insert(aY,ba)end;local bf={}for i,aZ in ipairs(aY)do table.insert(bf,aZ)end;aJ.callback(bf)bc()else aY=ba;aJ.callback(aY)for i,bg in ipairs(b9)do local bd=bg.Name==aY;bg.TextColor3=bd and h.palette.accent or h.palette.deselected end end;b2.Text=b1()end)bc()end;a3[b2]=b9 end;T.Position=UDim2.fromOffset(b7,b8)T.Size=UDim2.new(0,b2.AbsoluteSize.X,0,0)T.Visible=true;e:Create(b3,TweenInfo.new(0.1),{Rotation=135,Position=UDim2.new(1,18,0,5)}):Play()a1={close=b4,button=b2,frame=T}end;q(b2.MouseButton1Down,function(b7,b8)if a_ then b4()else b6(b7,b8)end end)end;function az:keybind(aJ)local bh=k("TextLabel",{Size=UDim2.new(1,0,0,20),BackgroundTransparency=1,FontFace=h.palette.font,TextColor3=h.palette.selected,TextSize=14,RichText=true,TextXAlignment=Enum.TextXAlignment.Left,Text=aJ.name,Parent=ay})local bi=k("TextButton",{Name="KeybindButton",AutomaticSize=Enum.AutomaticSize.X,BackgroundTransparency=1,AnchorPoint=Vector2.new(1,0),Position=UDim2.fromScale(1,0),Size=UDim2.fromScale(0,1),FontFace=h.palette.font,TextColor3=h.palette.deselected,TextSize=14,Parent=bh})local bj={key=aJ.defaultkey or"none",mode=aJ.defaultmode:lower()or"toggle",active=false,holding=false,listening=false,callback=aJ.callback,changedcallback=aJ.changedcallback,button=bi}table.insert(h.keybinds,bj)bi.Text="["..bj.key.."]"q(bi.MouseButton1Down,function()if bj.listening then return end;bj.listening=true;bi.Text="[...]"end)q(bi.MouseButton2Down,function(b7,b8)if bj.listening then return end;a2=bj;U.Position=UDim2.fromOffset(b7,b8)U.Visible=true;W.TextColor3=bj.mode=="hold"and h.palette.accent or h.palette.deselected;X.TextColor3=bj.mode=="toggle"and h.palette.accent or h.palette.deselected;Y.TextColor3=bj.mode=="always"and h.palette.accent or h.palette.deselected end)if bj.mode=="always"then bj.active=true;bj.callback(true)end end;function az:colorpicker(ap,s)end;function az:input(aJ)aJ.placeholder=aJ.placeholder or"type something..."aJ.default=aJ.default or""local bk=k("TextLabel",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,40),FontFace=h.palette.font,TextColor3=h.palette.selected,TextSize=14,RichText=true,Text=aJ.name,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Top,Parent=ay})local L=k("TextBox",{BackgroundColor3=h.palette.mainbg,AnchorPoint=Vector2.new(0,1),Position=UDim2.fromScale(0,1),Size=UDim2.new(1,0,0,20),FontFace=h.palette.font,PlaceholderColor3=h.palette.deselected,TextColor3=h.palette.selected,TextSize=14,Text=aJ.default,ClipsDescendants=true,PlaceholderText=aJ.placeholder,TextXAlignment=Enum.TextXAlignment.Left,Parent=bk})H(L,{L=4,R=4})t(L,false)aJ.callback(L.Text)local bl=aJ.default;q(L.Focused,function()L.PlaceholderText=""end)q(L.FocusLost,function()L.PlaceholderText=aJ.placeholder;if L.Text~=bl then aJ.callback(L.Text)end;bl=L.Text end)end;return az end;return at end;return al end;function h:notify(x)end;shared.moelibrary=h;return h
